(this["webpackJsonpshai-demri-05-08-2020"]=this["webpackJsonpshai-demri-05-08-2020"]||[]).push([[6],{150:function(e,t,a){"use strict";var n={1:"https://developer.accuweather.com/sites/default/files/01-s.png",2:"https://developer.accuweather.com/sites/default/files/02-s.png",3:"https://developer.accuweather.com/sites/default/files/03-s.png",4:"https://developer.accuweather.com/sites/default/files/04-s.png",5:"https://developer.accuweather.com/sites/default/files/05-s.png",6:"https://developer.accuweather.com/sites/default/files/06-s.png",7:"https://developer.accuweather.com/sites/default/files/07-s.png",8:"https://developer.accuweather.com/sites/default/files/08-s.png",11:"https://developer.accuweather.com/sites/default/files/11-s.png",12:"https://developer.accuweather.com/sites/default/files/12-s.png",13:"https://developer.accuweather.com/sites/default/files/13-s.png",14:"https://developer.accuweather.com/sites/default/files/14-s.png",15:"https://developer.accuweather.com/sites/default/files/15-s.png",16:"https://developer.accuweather.com/sites/default/files/16-s.png",17:"https://developer.accuweather.com/sites/default/files/17-s.png",18:"https://developer.accuweather.com/sites/default/files/18-s.png",19:"https://developer.accuweather.com/sites/default/files/19-s.png",20:"https://developer.accuweather.com/sites/default/files/20-s.png",21:"https://developer.accuweather.com/sites/default/files/21-s.png",22:"https://developer.accuweather.com/sites/default/files/22-s.png",23:"https://developer.accuweather.com/sites/default/files/23-s.png",24:"https://developer.accuweather.com/sites/default/files/24-s.png",25:"https://developer.accuweather.com/sites/default/files/25-s.png",26:"https://developer.accuweather.com/sites/default/files/26-s.png",29:"https://developer.accuweather.com/sites/default/files/29-s.png",30:"https://developer.accuweather.com/sites/default/files/30-s.png",31:"https://developer.accuweather.com/sites/default/files/31-s.png",32:"https://developer.accuweather.com/sites/default/files/32-s.png",33:"https://developer.accuweather.com/sites/default/files/33-s.png",34:"https://developer.accuweather.com/sites/default/files/34-s.png",35:"https://developer.accuweather.com/sites/default/files/35-s.png",36:"https://developer.accuweather.com/sites/default/files/36-s.png",37:"https://developer.accuweather.com/sites/default/files/37-s.png",38:"https://developer.accuweather.com/sites/default/files/38-s.png",39:"https://developer.accuweather.com/sites/default/files/39-s.png",40:"https://developer.accuweather.com/sites/default/files/40-s.png",41:"https://developer.accuweather.com/sites/default/files/41-s.png",42:"https://developer.accuweather.com/sites/default/files/42-s.png",43:"https://developer.accuweather.com/sites/default/files/43-s.png",44:"https://developer.accuweather.com/sites/default/files/44-s.png"};t.a=function(e){return n[e]}},151:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e){return(9*e/5+32).toFixed(2)}},152:function(e,t,a){"use strict";a.d(t,"a",(function(){return f})),a.d(t,"c",(function(){return m})),a.d(t,"b",(function(){return h})),a.d(t,"d",(function(){return d}));var n=a(153),r=a.n(n),c=a(154),i=a(157),s=a.n(i),o="Jk0eCaZKTjS35inGGK8R9r8R0bFxgGB5",u=function(e){return"http://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=".concat(o,"&q=").concat(e)},l=function(e){return"http://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(e,"?apikey=").concat(o,"&metric=true")},p=function(e){return"http://dataservice.accuweather.com/forecasts/v1/daily/1day/".concat(e,"?apikey=").concat(o,"&metric=true")},f=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n,c,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",a({type:"FETCH_CITIES_CODE",payload:[]}));case 2:return t.prev=2,n=u(e),t.next=6,s.a.get(n);case 6:if(!((c=t.sent).data.length>1)){t.next=12;break}return i=c.data.map((function(e){return{key:e.Key,name:e.LocalizedName,country:e.AdministrativeArea.LocalizedName+","+e.Country.LocalizedName}})),t.abrupt("return",a({type:"FETCH_CITIES_CODE",payload:i}));case 12:return t.abrupt("return",a(m(c.data[0].Key)));case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(2),console.log("Got an error!",JSON.stringify(t.t0));case 18:case"end":return t.stop()}}),t,null,[[2,15]])})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n,c,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=l(e),t.next=4,s.a.get(n);case 4:return c=t.sent,i={DailyForecasts:c.data.DailyForecasts.map((function(e){return{Date:e.Date,Unit:e.Temperature.Minimum.Unit,Temperature:{Minimum:e.Temperature.Minimum.Value,Maximum:e.Temperature.Maximum.Value},Day:{Icon:e.Day.Icon,IconPhrase:e.Day.IconPhrase,HasPrecipitation:e.Day.HasPrecipitation},Night:{Icon:e.Night.Icon,IconPhrase:e.Night.IconPhrase,HasPrecipitation:e.Night.HasPrecipitation}}}))},t.abrupt("return",a({type:"FETCH_WEATHER",payload:{Key:e,DailyForecasts:i.DailyForecasts}}));case 9:t.prev=9,t.t0=t.catch(0),console.log("Got an error!",JSON.stringify(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(t){try{e.forEach(function(){var e=Object(c.a)(r.a.mark((function e(a){var n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p(a),e.next=3,s.a.get(n);case 3:return c=e.sent,e.abrupt("return",t({type:"FETCH_ONE_DAY_WEATHER",payload:{response:c.data,locationCode:a}}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}catch(a){console.log("Got an error!",JSON.stringify(a))}}},d=function(e){return function(t){return t({type:"TOGGLE_FAVORITE",payload:e})}}},213:function(e,t,a){"use strict";a.r(t);var n=a(42),r=a(0),c=a.n(r),i=a(128),s=a(137),o=a(212),u=a(215),l=a(138),p=a(209),f=a(210),m=a(67),h=a(102),d=a(201),y=a(202),g=a(39),v=a(203),w=function(e){var t=new Date(e).getDay();return isNaN(t)?null:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t]},E=a(150),I=a(151),P=Object(i.a)((function(e){return{card:{minWidth:275},media:{height:0,paddingTop:"56.25%"},title:{fontSize:14},pos:{marginBottom:12},container:{marginBottom:e.spacing(2)}}})),b=[{Date:"2020-08-09T07:00:00+03:00",Unit:"C",Temperature:{Minimum:25.6,Maximum:30.2},Day:{Icon:2,IconPhrase:"Mostly sunny",HasPrecipitation:!1},Night:{Icon:35,IconPhrase:"Partly cloudy",HasPrecipitation:!1}},{Date:"2020-08-10T07:00:00+03:00",Unit:"C",Temperature:{Minimum:24.9,Maximum:30.7},Day:{Icon:3,IconPhrase:"Partly sunny",HasPrecipitation:!1},Night:{Icon:35,IconPhrase:"Partly cloudy",HasPrecipitation:!1}},{Date:"2020-08-11T07:00:00+03:00",Unit:"C",Temperature:{Minimum:26.1,Maximum:31},Day:{Icon:3,IconPhrase:"Partly sunny",HasPrecipitation:!1},Night:{Icon:35,IconPhrase:"Partly cloudy",HasPrecipitation:!1}},{Date:"2020-08-12T07:00:00+03:00",Unit:"C",Temperature:{Minimum:25.3,Maximum:30.7},Day:{Icon:3,IconPhrase:"Partly sunny",HasPrecipitation:!1},Night:{Icon:34,IconPhrase:"Mostly clear",HasPrecipitation:!1}},{Date:"2020-08-13T07:00:00+03:00",Unit:"C",Temperature:{Minimum:25.6,Maximum:31.4},Day:{Icon:2,IconPhrase:"Mostly sunny",HasPrecipitation:!1},Night:{Icon:35,IconPhrase:"Partly cloudy",HasPrecipitation:!1}}],T=function(e){var t=e.weather,a=void 0===t?b:t,r=P(),i=c.a.useState("Day"),o=Object(n.a)(i,2),u=o[0],l=o[1],p=c.a.useState(!1),f=Object(n.a)(p,2),m=f[0],T=f[1],D=function(e){return m?Object(I.a)(e):e};return c.a.createElement(c.a.Fragment,null,c.a.createElement(s.a,{className:r.container,container:!0,direction:"row",spacing:3,justify:"center",alignItems:"center"},c.a.createElement(h.a,{size:"small",onClick:function(){return T((function(e){return!e}))}},"Change To ",m?"Celsius":"Fahrenheit"),c.a.createElement(h.a,{size:"small",onClick:function(){return l((function(e){return"Day"===e?"Night":"Day"}))}},"View ","Day"===u?"Night":"Day")),c.a.createElement(s.a,{className:r.container,container:!0,direction:"row",spacing:3,justify:"space-around",alignItems:"center"},a.map((function(e){var t=w(e.Date);return c.a.createElement(s.a,{key:e.Date,item:!0,xs:"auto"},c.a.createElement(d.a,{className:r.card,variant:"outlined"},c.a.createElement(y.a,null,c.a.createElement(g.a,{variant:"h5",component:"h2"},t),c.a.createElement(g.a,{className:r.pos},"The Temperature will range"," ",c.a.createElement("br",null),"from ".concat(D(e.Temperature.Minimum)).concat(m?"F":"C"," to ").concat(D(e.Temperature.Maximum)).concat(m?"F":"C")),c.a.createElement(g.a,{variant:"body2",component:"p"},"The ",u," will be ",e[u].IconPhrase)),c.a.createElement(v.a,{className:r.media,image:Object(E.a)(e[u].Icon),title:e[u].IconPhrase})))}))))},D=a(63),C=a(21),k=a(152),N=a(204),F=a(205),O=a(103),x=a(206),M=a(207),H=a(208),j=function(e){var t=e.anchorRef,a=e.locations,r=void 0===a?[]:a,i=e.fetchWeather,s=c.a.useState(!1),o=Object(n.a)(s,2),u=o[0],l=o[1];c.a.useEffect((function(){return r.length>0&&l(!0),function(){l(!1)}}),[r]);var p=function(e,a){t.current&&t.current.contains(e.target)||(i(a),l(!1))};function f(e){"Tab"===e.key&&(e.preventDefault(),l(!1))}var m=c.a.useRef(u);return c.a.useEffect((function(){!0===m.current&&!1===u&&t.current.focus(),m.current=u}),[u]),c.a.createElement(N.a,{open:u,anchorEl:t.current,role:void 0,transition:!0,disablePortal:!0,placement:"bottom-start",style:{zIndex:"1"}},(function(e){var t=e.TransitionProps,a=e.placement;return c.a.createElement(F.a,Object.assign({},t,{style:{transformOrigin:"bottom"===a?"center top":"center bottom"}}),c.a.createElement(O.a,null,c.a.createElement(x.a,{onClickAway:p},c.a.createElement(M.a,{autoFocusItem:u,id:"menu-list-grow",onKeyDown:f},r.length>0?c.a.createElement(g.a,{variant:"h3"},"Multiple locations found. Please choose one."):c.a.createElement(c.a.Fragment,null),r.map((function(e){return c.a.createElement(H.a,{key:e.key,onClick:function(t){return p(t,e.key)}},e.name,",",e.country)}))))))}))},S=Object(i.a)((function(e){return{container:{margin:e.spacing(5)}}}));t.default=Object(D.b)((function(e){return{locationsCode:e.locationsCode,weather:e.weather.DailyForecasts,locationKey:e.weather.Key,favorite:e.favorite}}),(function(e){return Object(C.b)({fetchLocationCode:k.a,toggleLocationToFavorite:k.d,fetchWeather:k.c},e)}))((function(e){var t=e.weather,a=e.locationKey,r=e.locationsCode,i=e.fetchWeather,h=e.fetchLocationCode,d=e.toggleLocationToFavorite,y=S(),g=c.a.useState("Tel Aviv"),v=Object(n.a)(g,2),w=v[0],E=v[1],I=c.a.useState(!1),P=Object(n.a)(I,2),b=P[0],D=P[1],C=c.a.useRef(null),k=c.a.useCallback((function(){D(!1),h(w)}),[h,w]);return c.a.useEffect((function(){return k(),function(){h()}}),[]),c.a.createElement(s.a,null,c.a.createElement(s.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},c.a.createElement(s.a,{xs:8,item:!0,className:y.container},c.a.createElement(o.a,{ref:C,id:"city-search-field",placeholder:"Enter a city to see the upcoming days weather!",fullWidth:!0,margin:"normal",value:w,onChange:function(e){return E(e.target.value)},InputLabelProps:{shrink:!0},variant:"outlined"})),c.a.createElement(s.a,{xs:2,item:!0,className:y.container},c.a.createElement(m.a,{onClick:function(){return k()}},"Search"),c.a.createElement(u.a,{title:b?"Remove From Favorite":"Add To Favorite"},c.a.createElement(l.a,{color:"secondary","aria-label":"favorite",onClick:function(){return D((function(e){return!e})),void d({key:a,name:w})}},b?c.a.createElement(p.a,null):c.a.createElement(f.a,null))))),c.a.createElement(j,{anchorRef:C,locations:r,fetchWeather:i}),c.a.createElement(T,{weather:t}))}))}}]);
//# sourceMappingURL=6.d0fd0157.chunk.js.map